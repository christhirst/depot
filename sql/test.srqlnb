[{"kind":2,"language":"surrealql","value":"DEFINE TABLE user SCHEMAFULL;\nDEFINE TABLE test SCHEMAFULL;\nDEFINE TABLE shares SCHEMALESS;\nSELECT * FROM shares;"},{"kind":2,"language":"surrealql","value":"            DEFINE TABLE users SCHEMAFULL;\n            CREATE users:test1 SET mail = 'user1@mail.com';\n\n            SELECT * FROM users;\n\n            DEFINE TABLE shares SCHEMAFULL;\n            DEFINE FIELD symbol ON TABLE shares TYPE string;\n            DEFINE FIELD amount ON TABLE shares TYPE number;\n\n\n            DEFINE TABLE cash SCHEMAFULL;\n            DEFINE FIELD amount ON TABLE cash TYPE number;\n            DEFINE FIELD currency ON TABLE cash TYPE string;\n            DEFINE FIELD owner ON TABLE cash TYPE record(users);\n\n            CREATE cash:1 SET currency = 'eur', amount = 110000;\n            CREATE cash:2 SET currency = 'eur', amount = 10000, owner = users:test1;\n            CREATE cash:3 SET currency = 'eur', amount = -100000, owner = users:test1;\n\n            SELECT * FROM cash;\n            \n            return (SELECT total from (SELECT math::sum(amount) AS total, currency FROM cash GROUP BY currency) );"},{"kind":2,"language":"surrealql","value":"return [2][0]"},{"kind":2,"language":"surrealql","value":"DEFINE TABLE user SCHEMAFULL; DEFINE TABLE cash SCHEMAFULL; DEFINE TABLE share SCHEMAFULL;\nDEFINE FIELD name ON TABLE user TYPE string;"},{"kind":2,"language":"surrealql","value":"CREATE shares SET name = \"British American Tobacco\", symbol = \"bat\", amount = 110000, owner = user:testuser1;"}]